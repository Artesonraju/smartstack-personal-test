riemann :
  host     : docker-host
  port     : 5555
  interval : 5

jmx :
  host : docker-host
  # event_host optional attribute to be used in report to riemann server, otherwise host attribute will be used
  event_host : Nun-Kafka
  port : 9999
  # username & password are optional; they're used for authenticated JMX
  #username : ---
  #password : ---

queries :
  - obj         : "kafka.controller:type=ControllerStats,name=LeaderElectionRateAndTimeMs"
    attr        : [ MeanRate, OneMinuteRate, Count, Max, Min, Mean ]
    tags        : [ kafka ]
  - obj         : "kafka.controller:type=ControllerStats,name=UncleanLeaderElectionsPerSec"
    attr        : [ Count, MeanRate, OneMinuteRate ]
    tags        : [ kafka ]
  - obj         : "kafka.controller:type=KafkaController,name=ActiveControllerCount"
    attr        : [ Value ]
    tags        : [ kafka ]
  - obj         : "kafka.controller:type=KafkaController,name=OfflinePartitionsCount"
    attr        : [ Value ]
    tags        : [ kafka ]
  - obj         : "kafka.controller:type=KafkaController,name=PreferredReplicaImbalanceCount"
    attr        : [ Value ]
    tags        : [ kafka ]

  - obj         : "kafka.network:type=RequestChannel,name=RequestQueueSize"
    attr        : [ Value ]
    tags        : [ kafka ]
  - obj         : "kafka.network:type=RequestChannel,name=ResponseQueueSize"
    attr        : [ Value ]
    tags        : [ kafka ]
  - obj         : "kafka.network:type=SocketServer,name=NetworkProcessorAvgIdlePercent"
    attr        : [ Count, MeanRate, OneMinuteRate ]
    tags        : [ kafka ]
  - obj         : "kafka.network:type=SocketServer,name=ResponsesBeingSent"
    attr        : [ Value ]
    tags        : [ kafka ]
  #- obj         : "kafka.network:type=RequestMetrics,name=TotalTimeMs,request=Produce"
  #  attr        : [ Value ]
  #  tags        : [ kafka ]
  #- obj         : "kafka.network:type=RequestMetrics,name=TotalTimeMs,request=FetchConsumer"
  #  attr        : [ Value ]
  #  tags        : [ kafka ]
  #- obj         : "kafka.network:type=RequestMetrics,name=TotalTimeMs,request=FetchFollower"
  #  attr        : [ Value ]
  #  tags        : [ kafka ]

  - obj         : "kafka.server:type=BrokerTopicMetrics,name=BytesInPerSec"
    attr        : [ Count, MeanRate, OneMinuteRate ]
    tags        : [ kafka ]
  - obj         : "kafka.server:type=BrokerTopicMetrics,name=BytesOutPerSec"
    attr        : [ Count, MeanRate, OneMinuteRate ]
    tags        : [ kafka ]
  - obj         : "kafka.server:type=BrokerTopicMetrics,name=BytesRejectedPerSec"
    attr        : [ Count, MeanRate, OneMinuteRate ]
    tags        : [ kafka ]
  - obj         : "kafka.server:type=BrokerTopicMetrics,name=FailedFetchRequestsPerSec"
    attr        : [ Count, MeanRate, OneMinuteRate ]
    tags        : [ kafka ]
  - obj         : "kafka.server:type=BrokerTopicMetrics,name=FailedProduceRequestsPerSec"
    attr        : [ Count, MeanRate, OneMinuteRate ]
    tags        : [ kafka ]
  - obj         : "kafka.server:type=BrokerTopicMetrics,name=MessagesInPerSec"
    attr        : [ Count, MeanRate, OneMinuteRate ]
    tags        : [ kafka ]

  - obj         : "kafka.server:type=FetchRequestPurgatory,name=NumDelayedRequests"
    attr        : [ Value ]
    tags        : [ kafka ]
  - obj         : "kafka.server:type=FetchRequestPurgatory,name=PurgatorySize"
    attr        : [ Value ]
    tags        : [ kafka ]

  - obj         : "kafka.server:type=KafkaRequestHandlerPool,name=RequestHandlerAvgIdlePercent"
    attr        : [ Count, MeanRate, OneMinuteRate ]
    tags        : [ kafka ]
  - obj         : "kafka.server:type=ReplicaFetcherManager,name=MaxLag,clientId=Replica"
    attr        : [ Value ]
    tags        : [ kafka ]
  - obj         : "kafka.server:type=ReplicaFetcherManager,name=MinFetchRate,clientId=Replica"
    attr        : [ Value ]
    tags        : [ kafka ]

  - obj         : "kafka.server:type=ReplicaManager,name=IsrExpandsPerSec"
    attr        : [ Count, MeanRate, OneMinuteRate ]
    tags        : [ kafka ]
  - obj         : "kafka.server:type=ReplicaManager,name=LeaderCount"
    attr        : [ Value ]
    tags        : [ kafka ]
  - obj         : "kafka.server:type=ReplicaManager,name=PartitionCount"
    attr        : [ Value ]
    tags        : [ kafka ]
  - obj         : "kafka.server:type=ReplicaManager,name=UnderReplicatedPartitions"
    attr        : [ Value ]
    tags        : [ kafka ]